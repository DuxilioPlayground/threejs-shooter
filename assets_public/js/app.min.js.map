{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app.min.js","js_dev/components/boxes.js","js_dev/components/characters.js","js_dev/components/index.js","js_dev/components/playerWeapon.js","js_dev/config.json","js_dev/libs/AnimMD2.js","js_dev/libs/Character/charactersConfig.js","js_dev/libs/Character/index.js","js_dev/libs/lockControlsHelper.js","js_dev/libs/movementHelper.js","js_dev/libs/utils.js","js_dev/libs/worldHelper.js","js_dev/main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_worldHelper","_worldHelper2","init","scene","callback","_this","this","_scene","generateBoxes","boxes","boxes2","concat","_addBoxesToScene","boxMeshes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","mesh","add","err","../libs/worldHelper","2","_Character","_Character2","characters","characterConfigs","x","character","config","getRaw","root","push","_characters","update","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","../libs/Character","3","playerWeapon","_playerWeapon","_playerWeapon2","_boxes","_boxes2","_characters2","./boxes","./characters","./playerWeapon","4","_AnimMD","_AnimMD2","_movementHelper","_movementHelper2","camera","_weapon","md2","skin","animTimeScale","onCreate","_mesh","scale","set","rotation","y","Math","PI","position","_sounds","shotgunFired","_positionAnis","breathing","currOffset","currAniDirection","aniSpeed","maxOffset","updateProp","updateAxis","walking","_initSounds","_bindEvents","currAniName","getCurrMovement","_updatePositionAni","listener","THREE","AudioListener","Audio","load","name","details","_this2","document","body","addEventListener","_triggerAction","actionName","weapon","shotgunFiredSound","children","isPlaying","playAnimation","play","../libs/AnimMD2","../libs/movementHelper","5","movement","speed","jumpHeight","enableSuperJump","paths","img","models","sounds","6","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_config","_config2","AnimMD2","options","loader","MD2Loader","_options","_clock","Clock","geo","computeBoundingBox","_createMD2Part","ImageUtils","loadTexture","geometry","skinMap","materialWireframe","MeshLambertMaterial","color","wireframe","morphTargets","morphNormals","materialTexture","map","Mesh","castShadow","receiveShadow","_playingAnimation","_mixer","AnimationMixer","animation","playOnce","mixer","timeScale","clip","AnimationClip","findByName","animations","action","AnimationAction","time","setLocalRoot","addAction","setTimeout","removeAction","duration","delta","getDelta","../config","7","ratamahatta","path","skins","weapons","ogro","8","_typeof","constructor","_charactersConfig","_charactersConfig2","Character","userOptions","arguments","assign","charConfig","_createCharacter","_eventListeners","_character","event","listeners","forEach","MD2Character","onLoadComplete","setSkin","setAnimation","setWeapon","z","_triggerEvent","baseUrl","loadParts","idx","../../config","./charactersConfig","9","element","controls","_controls","PointerLockControls","_element","getControls","getEnabled","enabled","_requestLock","bind","_onLockChange","requestPointerLock","mozRequestPointerLock","webkitRequestPointerLock","pointerLockElement","mozPointerLockElement","webkitPointerLockElement","console","log","10","collisionObjects","_collisionObjects","_raycaster","Raycaster","Vector3","_movement","forward","backward","right","left","canJump","_velocity","_prevTime","performance","now","_bindKeyEvents","indexOf","checkMovement","velocity","movementSpeed","isOnObject","_checkObjectsCollision","max","controlsObject","getObject","translateZ","translateY","translateX","raycaster","objects","ray","origin","copy","intersections","intersectObjects","_ref","keyCode","_checkKeys","_ref2","setToVal","11","rand","min","floor","random","12","_utils","_utils2","generateRenderer","clearHex","renderer","WebGLRenderer","setClearColor","setPixelRatio","window","devicePixelRatio","setSize","innerWidth","innerHeight","generateFloor","PlaneGeometry","rotateX","vertices","vertex","_i","_l","faces","face","colors","j","Color","_j","vertexColors","material","MeshBasicMaterial","VertexColors","amount","texturePath","textureLoader","TextureLoader","doGenerate","crateTexture","_generateBox","width","height","depth","rgb","texture","box","BoxGeometry","MeshPhongMaterial","./utils","13","_interopRequireWildcard","newObj","hasOwnProperty","Scene","PerspectiveCamera","light","HemisphereLight","floorMesh","containerNode","appendChild","domElement","_lockControlsHelper2","components","stats","begin","componentsToUpdate","component","render","end","requestAnimationFrame","initStats","Stats","setMode","style","top","_lockControlsHelper","_components","values","filter","./components","./config","./libs/lockControlsHelper","./libs/movementHelper","./libs/utils","./libs/worldHelper"],"mappings":"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","file":"app.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _worldHelper = require('../libs/worldHelper');\n\nvar _worldHelper2 = _interopRequireDefault(_worldHelper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  init: function init(scene, callback) {\n    var _this = this;\n\n    this._scene = scene;\n\n    _worldHelper2.default.generateBoxes(250, '/crate3.jpg', function (boxes) {\n      _worldHelper2.default.generateBoxes(250, '/crate-tnt-1.jpg', function (boxes2) {\n        boxes = boxes.concat(boxes2);\n        _this._addBoxesToScene(boxes);\n        callback(boxes);\n      });\n    });\n  },\n  _addBoxesToScene: function _addBoxesToScene(boxMeshes) {\n    var scene = this._scene;\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = boxMeshes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var mesh = _step.value;\n\n        scene.add(mesh);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }\n};\n\n},{\"../libs/worldHelper\":12}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Character = require('../libs/Character');\n\nvar _Character2 = _interopRequireDefault(_Character);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  init: function init(scene) {\n    var characters = [];\n    var characterConfigs = [{\n      x: 20,\n      character: 'ogro'\n    }, {\n      x: -20\n    }];\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = characterConfigs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var config = _step.value;\n\n        var character = new _Character2.default(config);\n        scene.add(character.getRaw().root);\n        characters.push(character);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    this._characters = characters;\n  },\n  update: function update() {\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = this._characters[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var character = _step2.value;\n\n        character.update();\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n};\n\n},{\"../libs/Character\":8}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.characters = exports.boxes = exports.playerWeapon = undefined;\n\nvar _playerWeapon = require('./playerWeapon');\n\nvar _playerWeapon2 = _interopRequireDefault(_playerWeapon);\n\nvar _boxes = require('./boxes');\n\nvar _boxes2 = _interopRequireDefault(_boxes);\n\nvar _characters = require('./characters');\n\nvar _characters2 = _interopRequireDefault(_characters);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.playerWeapon = _playerWeapon2.default;\nexports.boxes = _boxes2.default;\nexports.characters = _characters2.default;\n\n},{\"./boxes\":1,\"./characters\":2,\"./playerWeapon\":4}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _AnimMD = require('../libs/AnimMD2');\n\nvar _AnimMD2 = _interopRequireDefault(_AnimMD);\n\nvar _movementHelper = require('../libs/movementHelper');\n\nvar _movementHelper2 = _interopRequireDefault(_movementHelper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  init: function init(camera) {\n    var _this = this;\n\n    this._weapon = new _AnimMD2.default({\n      md2: '/shotgun/hud/Dreadus-Shotgun.md2',\n      skin: '/shotgun/hud/Dreadus-Shotgun.jpg',\n      animTimeScale: 2,\n      onCreate: function onCreate(mesh) {\n        _this._mesh = mesh;\n\n        mesh.scale.set(.05, .05, .05);\n        mesh.rotation.y = Math.PI / 2;\n        mesh.position.x -= 1;\n\n        camera.add(mesh);\n        mesh.add(_this._sounds.shotgunFired);\n      }\n    });\n\n    this._positionAnis = {\n      breathing: {\n        currOffset: 0,\n        currAniDirection: 1,\n        aniSpeed: .0002,\n        maxOffset: .01,\n        updateProp: 'rotation',\n        updateAxis: 'z'\n      },\n      walking: {\n        currOffset: 0,\n        currAniDirection: 1,\n        aniSpeed: .009,\n        maxOffset: .1,\n        updateProp: 'position',\n        updateAxis: 'z'\n      }\n    };\n\n    this._sounds = {};\n    this._initSounds(camera);\n\n    this._bindEvents();\n  },\n  update: function update() {\n    var currAniName = _movementHelper2.default.getCurrMovement() === 'walking' ? 'walking' : 'breathing';\n    this._updatePositionAni(currAniName);\n    this._weapon.update();\n  },\n  _initSounds: function _initSounds(camera) {\n    var listener = new THREE.AudioListener();\n    camera.add(listener);\n\n    var shotgunFired = new THREE.Audio(listener);\n    shotgunFired.load('assets_public/sounds/shotgunFired.mp3');\n    this._sounds['shotgunFired'] = shotgunFired;\n  },\n  _updatePositionAni: function _updatePositionAni(name) {\n    var mesh = this._mesh;\n    var details = this._positionAnis[name];\n\n    var aniSpeed = details.aniSpeed,\n        currOffset = details.currOffset,\n        currAniDirection = details.currAniDirection,\n        maxOffset = details.maxOffset,\n        updateProp = details.updateProp,\n        updateAxis = details.updateAxis;\n\n\n    if (!mesh) {\n      return;\n    }\n\n    if (currAniDirection === 1) {\n      this._positionAnis[name].currOffset -= aniSpeed;\n      mesh[updateProp][updateAxis] -= aniSpeed;\n    } else {\n      this._positionAnis[name].currOffset += aniSpeed;\n      mesh[updateProp][updateAxis] += aniSpeed;\n    }\n\n    if (currOffset <= -maxOffset) {\n      this._positionAnis[name].currAniDirection = 2;\n    } else if (currOffset >= maxOffset) {\n      this._positionAnis[name].currAniDirection = 1;\n    }\n  },\n  _bindEvents: function _bindEvents() {\n    var _this2 = this;\n\n    document.body.addEventListener('click', function () {\n      return _this2._triggerAction('pow');\n    }, false);\n  },\n  _triggerAction: function _triggerAction(actionName) {\n    var weapon = this._weapon;\n    var mesh = this._mesh;\n    var shotgunFiredSound = mesh.children[0];\n\n    switch (actionName) {\n      case 'pow':\n        if (!shotgunFiredSound.isPlaying) {\n          weapon.playAnimation('pow', true);\n          shotgunFiredSound.play();\n        }\n        break;\n    }\n  }\n};\n\n},{\"../libs/AnimMD2\":6,\"../libs/movementHelper\":10}],5:[function(require,module,exports){\nmodule.exports={\n\t\"movement\": {\n\t\t\"speed\": 600,\n\t\t\"jumpHeight\": 350,\n\t\t\"enableSuperJump\": false\n\t},\n    \"paths\": {\n        \"img\": \"assets_public/img\",\n        \"models\": \"assets_public/models\",\n        \"sounds\": \"assets_public/sounds\"\n    }\n}\n},{}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _config = require('../config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AnimMD2 = function () {\n\tfunction AnimMD2(options) {\n\t\tvar _this = this;\n\n\t\t_classCallCheck(this, AnimMD2);\n\n\t\tvar loader = new THREE.MD2Loader();\n\n\t\t//check animTimeScale option property\n\t\toptions.animTimeScale = options.animTimeScale || 1;\n\t\toptions.md2 = _config2.default.paths.models + options.md2;\n\t\toptions.skin = _config2.default.paths.models + options.skin;\n\n\t\t//set class vars\n\t\tthis._options = options;\n\t\tthis._clock = new THREE.Clock();\n\n\t\t//preload md2 and mesh\n\t\tloader.load(options.md2, function (geo) {\n\t\t\tgeo.computeBoundingBox();\n\n\t\t\tvar mesh = _this._mesh = _this._createMD2Part(geo, THREE.ImageUtils.loadTexture(options.skin));\n\t\t\toptions.onCreate(mesh);\n\t\t});\n\t}\n\n\t_createClass(AnimMD2, [{\n\t\tkey: '_createMD2Part',\n\t\tvalue: function _createMD2Part(geometry, skinMap) {\n\t\t\tvar materialWireframe = new THREE.MeshLambertMaterial({ color: 0xffaa00, wireframe: true, morphTargets: true, morphNormals: true });\n\t\t\tvar materialTexture = new THREE.MeshLambertMaterial({ color: 0xffffff, wireframe: false, map: skinMap, morphTargets: true, morphNormals: true });\n\n\t\t\tvar mesh = new THREE.Mesh(geometry, materialTexture);\n\t\t\tmesh.rotation.y = -Math.PI / 2;\n\n\t\t\tmesh.castShadow = true;\n\t\t\tmesh.receiveShadow = true;\n\n\t\t\tmesh.materialTexture = materialTexture;\n\t\t\tmesh.materialWireframe = materialWireframe;\n\n\t\t\tthis._playingAnimation = false;\n\t\t\tthis._mixer = new THREE.AnimationMixer(mesh);\n\t\t\tthis._mesh = mesh;\n\n\t\t\tif (this._options.animation) {\n\t\t\t\tthis.playAnimation(this._options.animation);\n\t\t\t}\n\n\t\t\treturn mesh;\n\t\t}\n\t}, {\n\t\tkey: 'playAnimation',\n\t\tvalue: function playAnimation(name, playOnce) {\n\t\t\tvar _this2 = this;\n\n\t\t\tif (this._playingAnimation) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar options = this._options;\n\t\t\tvar mixer = this._mixer = new THREE.AnimationMixer(mesh);\n\t\t\tvar mesh = this._mesh;\n\t\t\tvar timeScale = options.animTimeScale;\n\n\t\t\t//speed animation up by <timeScale>\n\t\t\t//duration is now <duration>/<timeScale>\n\t\t\tmixer.timeScale = timeScale;\n\n\t\t\tif (!mesh) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar clip = THREE.AnimationClip.findByName(mesh.geometry.animations, name);\n\n\t\t\tif (!clip) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar action = new THREE.AnimationAction(clip, mixer.time).setLocalRoot(mesh);\n\n\t\t\tmixer.addAction(action);\n\t\t\tthis._playingAnimation = true;\n\n\t\t\tif (!playOnce) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tmixer.removeAction(action);\n\t\t\t\t_this2._playingAnimation = false;\n\t\t\t}, clip.duration / timeScale * 1000);\n\t\t}\n\t}, {\n\t\tkey: 'update',\n\t\tvalue: function update() {\n\t\t\tvar delta = this._clock.getDelta();\n\t\t\tif (this._mixer) this._mixer.update(delta);\n\t\t}\n\t}]);\n\n\treturn AnimMD2;\n}();\n\nexports.default = AnimMD2;\n\n},{\"../config\":5}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = {\n\tratamahatta: {\n\t\tpath: '/ratamahatta/',\n\t\tbody: \"ratamahatta.md2\",\n\t\tskins: [\"ratamahatta.png\", \"ctf_b.png\", \"ctf_r.png\", \"dead.png\", \"gearwhore.png\"],\n\t\tweapons: [[\"weapon.md2\", \"weapon.png\"], [\"w_bfg.md2\", \"w_bfg.png\"], [\"w_blaster.md2\", \"w_blaster.png\"], [\"w_chaingun.md2\", \"w_chaingun.png\"], [\"w_glauncher.md2\", \"w_glauncher.png\"], [\"w_hyperblaster.md2\", \"w_hyperblaster.png\"], [\"w_machinegun.md2\", \"w_machinegun.png\"], [\"w_railgun.md2\", \"w_railgun.png\"], [\"w_rlauncher.md2\", \"w_rlauncher.png\"], [\"w_shotgun.md2\", \"w_shotgun.png\"], [\"w_sshotgun.md2\", \"w_sshotgun.png\"]]\n\t},\n\togro: {\n\t\tpath: \"/ogro/\",\n\t\tbody: \"ogro.md2\",\n\t\tskins: [\"grok.jpg\", \"ogrobase.png\", \"arboshak.png\", \"ctf_r.png\", \"ctf_b.png\", \"darkam.png\", \"freedom.png\", \"gib.png\", \"gordogh.png\", \"igdosh.png\", \"khorne.png\", \"nabogro.png\", \"sharokh.png\"],\n\t\tweapons: [[\"weapon.md2\", \"weapon.jpg\"]]\n\t}\n};\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _config = require('../../config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _charactersConfig = require('./charactersConfig');\n\nvar _charactersConfig2 = _interopRequireDefault(_charactersConfig);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Character = function () {\n  function Character() {\n    var userOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Character);\n\n    var options = this._options = Object.assign({\n      character: 'ratamahatta',\n      skin: 0,\n      animation: 'stand'\n    }, userOptions);\n\n    var charConfig = _charactersConfig2.default[options.character];\n    var character = this._createCharacter(charConfig);\n\n    this._eventListeners = {};\n    this._clock = new THREE.Clock();\n\n    this._character = character;\n  }\n\n  _createClass(Character, [{\n    key: 'on',\n    value: function on(event, callback) {\n      if (typeof this._eventListeners[event] !== 'array') {\n        this._eventListeners[event] = [];\n      }\n      this._eventListeners[event].push(callback);\n    }\n  }, {\n    key: '_triggerEvent',\n    value: function _triggerEvent(event) {\n      var _this = this;\n\n      var listeners = this._eventListeners[event];\n\n      if ((typeof listeners === 'undefined' ? 'undefined' : _typeof(listeners)) === 'object') {\n        listeners.forEach(function (callback) {\n          callback(_this.getRaw());\n        });\n      }\n    }\n  }, {\n    key: '_createCharacter',\n    value: function _createCharacter(charConfig) {\n      var _this2 = this;\n\n      var options = this._options;\n      var character = new THREE.MD2Character();\n\n      character.scale = .5;\n\n      character.onLoadComplete = function () {\n        _this2.setSkin(options.skin);\n        _this2.setAnimation(options.animation);\n\n        if (typeof options.weapon === 'number') {\n          _this2.setWeapon(options.weapon);\n        }\n\n        if (typeof options.x === 'number') {\n          character.root.position.x = options.x;\n        }\n\n        if (typeof options.y === 'number') {\n          character.root.position.y = options.y;\n        }\n\n        if (typeof options.z === 'number') {\n          character.root.position.z = options.z;\n        }\n\n        _this2._triggerEvent('create');\n      };\n\n      charConfig.baseUrl = _config2.default.paths.models + charConfig.path;\n      character.loadParts(charConfig);\n\n      return character;\n    }\n  }, {\n    key: 'setSkin',\n    value: function setSkin(idx) {\n      //character.skinsBody\n      this._character.setSkin(idx);\n    }\n  }, {\n    key: 'setWeapon',\n    value: function setWeapon(idx) {\n      //character.weapons\n      this._character.setWeapon(idx);\n    }\n  }, {\n    key: 'setAnimation',\n    value: function setAnimation(name) {\n      //character.meshBody.geometry.animations\n      this._character.setAnimation(name);\n    }\n  }, {\n    key: 'getRaw',\n    value: function getRaw() {\n      return this._character;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var delta = this._clock.getDelta();\n      this._character.update(delta);\n    }\n  }]);\n\n  return Character;\n}();\n\nexports.default = Character;\n\n},{\"../../config\":5,\"./charactersConfig\":7}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  init: function init(element, camera, controls) {\n    this._controls = new THREE.PointerLockControls(camera);\n    this._element = element;\n    this._bindEvents();\n  },\n  getControls: function getControls() {\n    return this._controls;\n  },\n  getEnabled: function getEnabled() {\n    return this._controls.enabled;\n  },\n  _bindEvents: function _bindEvents() {\n    document.body.addEventListener('click', this._requestLock.bind(this));\n    document.addEventListener('pointerlockchange', this._onLockChange.bind(this), false);\n    document.addEventListener('mozpointerlockchange', this._onLockChange.bind(this), false);\n    document.addEventListener('webkitpointerlockchange', this._onLockChange.bind(this), false);\n  },\n  _requestLock: function _requestLock() {\n    var element = this._element;\n    element.requestPointerLock = element.requestPointerLock || element.mozRequestPointerLock || element.webkitRequestPointerLock;\n    element.requestPointerLock();\n  },\n  _onLockChange: function _onLockChange() {\n    var element = this._element;\n    if (document.pointerLockElement === element || document.mozPointerLockElement === element || document.webkitPointerLockElement === element) {\n      console.log('Pointer locked');\n      this._controls.enabled = true;\n    } else {\n      console.log('Pointer lock removed');\n      this._controls.enabled = false;\n    }\n  }\n};\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  init: function init(controls, collisionObjects, options) {\n    this._controls = controls;\n    this._options = options;\n\n    this._collisionObjects = collisionObjects;\n    this._raycaster = new THREE.Raycaster(new THREE.Vector3(), new THREE.Vector3(0, -1, 0), 0, 10);\n\n    this._movement = {\n      forward: false,\n      backward: false,\n      right: false,\n      left: false,\n      canJump: false\n    };\n\n    this._velocity = new THREE.Vector3();\n    this._prevTime = performance.now();\n\n    this._bindKeyEvents();\n  },\n  getCurrMovement: function getCurrMovement() {\n    var movement = this._movement;\n\n    for (var key in movement) {\n      if (!movement[key]) {\n        continue;\n      }\n\n      if (['forward', 'backward', 'right', 'left'].indexOf(key) !== -1 && movement.canJump !== false) {\n        //walking and not jumping\n        return 'walking';\n      } else if (key === 'canJump') {\n        //jumping\n        return 'jumping';\n      } else {\n        //not walking, not jumping = idle\n        return 'idle';\n      }\n    }\n  },\n  checkMovement: function checkMovement() {\n    var controls = this._controls;\n    var velocity = this._velocity;\n    var movement = this._movement;\n    var options = this._options;\n\n    var time = performance.now();\n    var delta = (time - this._prevTime) / 1000;\n\n    //update velocity\n    velocity.x -= velocity.x * 10.0 * delta;\n    velocity.z -= velocity.z * 10.0 * delta;\n    velocity.y -= 9.8 * 100.0 * delta; // 100.0 = mass\n\n    //check directional movement\n    if (movement.forward) velocity.z -= options.movementSpeed * delta;\n    if (movement.backward) velocity.z += options.movementSpeed * delta;\n    if (movement.left) velocity.x -= options.movementSpeed * delta;\n    if (movement.right) velocity.x += options.movementSpeed * delta;\n\n    //objects collision detection\n    var isOnObject = this._checkObjectsCollision();\n    if (isOnObject) {\n      velocity.y = Math.max(0, velocity.y);\n      movement.canJump = true;\n    }\n\n    //update controls\n    var controlsObject = controls.getObject();\n    controlsObject.translateZ(velocity.z * delta);\n    controlsObject.translateY(velocity.y * delta);\n    controlsObject.translateX(velocity.x * delta);\n\n    //detect floor\n    if (controls.getObject().position.y < 20) {\n      velocity.y = 0;\n      controlsObject.position.y = 20;\n      movement.canJump = true;\n    }\n\n    this._prevTime = time;\n  },\n  _checkObjectsCollision: function _checkObjectsCollision() {\n    var raycaster = this._raycaster;\n    var objects = this._collisionObjects;\n    var controls = this._controls;\n\n    raycaster.ray.origin.copy(controls.getObject().position);\n    raycaster.ray.origin.y -= 10;\n\n    var intersections = raycaster.intersectObjects(objects);\n    var isOnObject = intersections.length > 0;\n\n    return isOnObject;\n  },\n  _bindKeyEvents: function _bindKeyEvents() {\n    var _this = this;\n\n    document.addEventListener('keydown', function (_ref) {\n      var keyCode = _ref.keyCode;\n      return _this._checkKeys(keyCode, true);\n    }, false);\n    document.addEventListener('keyup', function (_ref2) {\n      var keyCode = _ref2.keyCode;\n      return _this._checkKeys(keyCode, false);\n    }, false);\n  },\n  _checkKeys: function _checkKeys(keyCode, setToVal) {\n    var options = this._options;\n    switch (keyCode) {\n      case 87:\n        //w\n        this._movement.forward = setToVal;\n        break;\n      case 83:\n        //s\n        this._movement.backward = setToVal;\n        break;\n      case 68:\n        // d\n        this._movement.right = setToVal;\n        break;\n      case 65:\n        // a\n        this._movement.left = setToVal;\n        break;\n      case 32:\n        // space\n        if (setToVal === true) {\n          //keydown\n          if (this._movement.canJump || options.enableSuperJump) {\n            this._velocity.y += this._options.jumpHeight;\n          }\n          this._movement.canJump = false;\n        }\n        break;\n    }\n  }\n};\n\n},{}],11:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = {\n\trand: function rand(min, max) {\n\t\treturn Math.floor(Math.random() * max + min);\n\t}\n};\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _config = require('../config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  generateRenderer: function generateRenderer(clearHex) {\n    var renderer = new THREE.WebGLRenderer();\n    renderer.setClearColor(clearHex);\n    renderer.setPixelRatio(window.devicePixelRatio || 1);\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    return renderer;\n  },\n  generateFloor: function generateFloor() {\n    var geometry = new THREE.PlaneGeometry(2000, 2000, 100, 100);\n\n    geometry.rotateX(-Math.PI / 2);\n\n    for (var i = 0, l = geometry.vertices.length; i < l; i++) {\n      var vertex = geometry.vertices[i];\n      vertex.x += Math.random() * 20;\n      vertex.z += Math.random() * 20;\n      vertex.y += Math.random();\n    }\n\n    for (var _i = 0, _l = geometry.faces.length; _i < _l; _i++) {\n      var face = geometry.faces[_i];\n      var colors = [];\n\n      for (var j = 0; j < 3; j++) {\n        var color = new THREE.Color('rgb(' + _utils2.default.rand(100, 180) + ',' + _utils2.default.rand(100, 180) + ',' + _utils2.default.rand(100, 180) + ')');\n        colors.push(color);\n      }\n\n      for (var _j = 0; _j < 3; _j++) {\n        face.vertexColors[_j] = colors[_j];\n      }\n    }\n\n    var material = new THREE.MeshBasicMaterial({ vertexColors: THREE.VertexColors });\n    return new THREE.Mesh(geometry, material);\n  },\n  generateBoxes: function generateBoxes(amount, texturePath, callback) {\n    var _this = this;\n\n    var textureLoader = new THREE.TextureLoader();\n\n    var doGenerate = function doGenerate(crateTexture) {\n      var mesh = void 0;\n      var boxes = [];\n\n      for (var i = 0; i < amount; i++) {\n        mesh = _this._generateBox({\n          width: 20,\n          height: 20,\n          depth: 20,\n          rgb: [55, 81, 159],\n          texture: crateTexture\n        });\n\n        mesh.position.x = Math.floor(Math.random() * 20 - 10) * 20;\n        mesh.position.y = Math.floor(Math.random() * 20) * 20 + 10;\n        mesh.position.z = Math.floor(Math.random() * 20 - 10) * 20;\n\n        mesh.rotation.y = -100;\n        boxes.push(mesh);\n      }\n\n      callback(boxes);\n    };\n\n    textureLoader.load(_config2.default.paths.img + texturePath, function (crateTexture) {\n      doGenerate(crateTexture);\n    });\n  },\n  _generateBox: function _generateBox(options) {\n    var width = options.width;\n    var height = options.height;\n    var depth = options.depth;\n    var rgb = options.rgb;\n    var box = new THREE.BoxGeometry(width, height, depth);\n    var material = void 0;\n\n    if (options.texture) {\n      material = new THREE.MeshPhongMaterial({\n        map: options.texture\n      });\n    } else {\n      material = new THREE.MeshBasicMaterial({\n        vertexColors: THREE.VertexColors\n      });\n\n      var face = void 0;\n      var color = void 0;\n\n      for (var i = 0; i < box.faces.length; i++) {\n        face = box.faces[i];\n        color = new THREE.Color('rgb(' + (rgb[0] + i * 4) + ',' + (rgb[1] + i * 4) + ',' + (rgb[0] + i * 4) + ')');\n        face.color = color;\n      }\n    }\n\n    return new THREE.Mesh(box, material);\n  }\n};\n\n},{\"../config\":5,\"./utils\":11}],13:[function(require,module,exports){\n'use strict';\n\nvar _config = require('./config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _utils = require('./libs/utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _worldHelper = require('./libs/worldHelper');\n\nvar _worldHelper2 = _interopRequireDefault(_worldHelper);\n\nvar _lockControlsHelper = require('./libs/lockControlsHelper');\n\nvar _lockControlsHelper2 = _interopRequireDefault(_lockControlsHelper);\n\nvar _movementHelper = require('./libs/movementHelper');\n\nvar _movementHelper2 = _interopRequireDefault(_movementHelper);\n\nvar _components = require('./components');\n\nvar components = _interopRequireWildcard(_components);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar scene = null;\nvar camera = null;\nvar renderer = null;\nvar stats = null;\n\nvar componentsToUpdate = Object.values(components).filter(function (_ref) {\n  var update = _ref.update;\n  return typeof update === 'function';\n});\nvar containerNode = document.body;\n\ninitStats();\ninit();\nupdate();\n\nfunction init() {\n  scene = new THREE.Scene();\n  camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 1000);\n\n  //light\n  var light = new THREE.HemisphereLight(0xffffff, 0xaaaaaa, 0.6);\n  scene.add(light);\n\n  //floor\n  var floorMesh = _worldHelper2.default.generateFloor();\n  scene.add(floorMesh);\n\n  //renderer\n  renderer = _worldHelper2.default.generateRenderer(0x0f445c);\n  containerNode.appendChild(renderer.domElement);\n\n  _lockControlsHelper2.default.init(containerNode, camera);\n  var controls = _lockControlsHelper2.default.getControls();\n  scene.add(controls.getObject());\n\n  //boxes\n  components.boxes.init(scene, function (boxes) {\n    _movementHelper2.default.init(controls, boxes, {\n      movementSpeed: _config2.default.movement.speed,\n      jumpHeight: _config2.default.movement.jumpHeight,\n      enableSuperJump: _config2.default.movement.enableSuperJump\n    });\n\n    //characters\n    components.characters.init(scene, boxes);\n\n    //weapon\n    components.playerWeapon.init(camera);\n  });\n}\n\nfunction update() {\n  stats.begin();\n\n  if (_lockControlsHelper2.default.getEnabled()) {\n    _movementHelper2.default.checkMovement();\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = componentsToUpdate[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var component = _step.value;\n\n        component.update();\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }\n\n  renderer.render(scene, camera);\n\n  stats.end();\n  requestAnimationFrame(update);\n}\n\nfunction initStats() {\n  stats = new Stats();\n  stats.setMode(0);\n\n  stats.domElement.style.position = 'absolute';\n  stats.domElement.style.left = '0px';\n  stats.domElement.style.top = '0px';\n  containerNode.appendChild(stats.domElement);\n}\n\n},{\"./components\":3,\"./config\":5,\"./libs/lockControlsHelper\":9,\"./libs/movementHelper\":10,\"./libs/utils\":11,\"./libs/worldHelper\":12}]},{},[13])\n\n","import worldHelper from '../libs/worldHelper';\n\nexport default {\n  init(scene, callback) {\n    this._scene = scene;\n\n    worldHelper.generateBoxes(250, '/crate3.jpg', (boxes) => {\n      worldHelper.generateBoxes(250, '/crate-tnt-1.jpg', (boxes2) => {\n        boxes = boxes.concat(boxes2);\n        this._addBoxesToScene(boxes);\n        callback(boxes);\n      });\n    });\n  },\n\n  _addBoxesToScene(boxMeshes) {\n    const scene = this._scene;\n    for (const mesh of boxMeshes) {\n      scene.add(mesh);\n    }\n  }\n};\n","import Character from '../libs/Character';\n\nexport default {\n  init(scene) {\n    const characters = [];\n    const characterConfigs = [{\n      x: 20,\n      character: 'ogro'\n    }, {\n      x: -20\n    }];\n\n    for (const config of characterConfigs) {\n      const character = new Character(config);\n      scene.add(character.getRaw().root);\n      characters.push(character);\n    }\n\n    this._characters = characters;\n  },\n\n  update() {\n    for (const character of this._characters) {\n      character.update();\n    }\n  }\n};\n","import playerWeapon from './playerWeapon';\nimport boxes from './boxes';\nimport characters from './characters';\n\nexport {playerWeapon, boxes, characters};\n","import AnimMD2 from '../libs/AnimMD2';\nimport movementHelper from '../libs/movementHelper';\n\nexport default {\n  init(camera) {\n    this._weapon = new AnimMD2({\n      md2: '/shotgun/hud/Dreadus-Shotgun.md2',\n      skin: '/shotgun/hud/Dreadus-Shotgun.jpg',\n      animTimeScale: 2,\n      onCreate: (mesh) => {\n        this._mesh = mesh;\n\n        mesh.scale.set(.05,.05,.05);\n        mesh.rotation.y = Math.PI / 2;\n        mesh.position.x -= 1;\n\n        camera.add(mesh);\n        mesh.add(this._sounds.shotgunFired);\n      }\n    });\n\n    this._positionAnis = {\n      breathing: {\n        currOffset: 0,\n        currAniDirection: 1,\n        aniSpeed: .0002,\n        maxOffset: .01,\n        updateProp: 'rotation',\n        updateAxis: 'z'\n      },\n      walking: {\n        currOffset: 0,\n        currAniDirection: 1,\n        aniSpeed: .009,\n        maxOffset: .1,\n        updateProp: 'position',\n        updateAxis: 'z'\n      }\n    };\n\n    this._sounds = {};\n    this._initSounds(camera);\n\n    this._bindEvents();\n  },\n\n  update() {\n    const currAniName = movementHelper.getCurrMovement() === 'walking' ? 'walking' : 'breathing';\n    this._updatePositionAni(currAniName);\n    this._weapon.update();\n  },\n\n  _initSounds(camera) {\n    var listener = new THREE.AudioListener();\n    camera.add(listener);\n\n    var shotgunFired = new THREE.Audio(listener);\n    shotgunFired.load('assets_public/sounds/shotgunFired.mp3');\n    this._sounds['shotgunFired'] = shotgunFired;\n  },\n\n  _updatePositionAni(name) {\n    const mesh = this._mesh;\n    const details = this._positionAnis[name];\n\n    const {\n      aniSpeed,\n      currOffset,\n      currAniDirection,\n      maxOffset,\n      updateProp,\n      updateAxis\n    } = details;\n\n    if (!mesh) {\n      return;\n    }\n\n    if(currAniDirection === 1){\n      this._positionAnis[name].currOffset -= aniSpeed;\n      mesh[updateProp][updateAxis] -= aniSpeed;\n    } else {\n      this._positionAnis[name].currOffset += aniSpeed;\n      mesh[updateProp][updateAxis] += aniSpeed;\n    }\n\n    if(currOffset <= -maxOffset){\n      this._positionAnis[name].currAniDirection = 2;\n    } else if(currOffset >= maxOffset){\n      this._positionAnis[name].currAniDirection = 1;\n    }\n  },\n\n  _bindEvents() {\n    document.body.addEventListener('click', () => this._triggerAction('pow'), false);\n  },\n\n  _triggerAction(actionName) {\n    const weapon = this._weapon;\n    const mesh = this._mesh;\n    const shotgunFiredSound = mesh.children[0];\n\n    switch(actionName){\n      case 'pow':\n        if(!shotgunFiredSound.isPlaying){\n          weapon.playAnimation('pow', true);\n          shotgunFiredSound.play();\n        }\n      break;\n    }\n  }\n};\n","module.exports={\n\t\"movement\": {\n\t\t\"speed\": 600,\n\t\t\"jumpHeight\": 350,\n\t\t\"enableSuperJump\": false\n\t},\n    \"paths\": {\n        \"img\": \"assets_public/img\",\n        \"models\": \"assets_public/models\",\n        \"sounds\": \"assets_public/sounds\"\n    }\n}","import CONFIG from '../config';\n\nexport default class AnimMD2 {\n\tconstructor(options) {\n\t\tconst loader = new THREE.MD2Loader();\n\n\t\t//check animTimeScale option property\n\t\toptions.animTimeScale = options.animTimeScale || 1;\n\t\toptions.md2 = CONFIG.paths.models+options.md2;\n\t\toptions.skin = CONFIG.paths.models+options.skin;\n\n\t\t//set class vars\n\t\tthis._options = options;\n\t\tthis._clock = new THREE.Clock();\n\n\t\t//preload md2 and mesh\n\t\tloader.load(options.md2, (geo) => {\n\t\t\tgeo.computeBoundingBox();\n\n\t\t\tconst mesh = this._mesh = this._createMD2Part(geo, THREE.ImageUtils.loadTexture(options.skin));\n\t\t\toptions.onCreate(mesh);\n\t\t});\n\t}\n\n\t_createMD2Part(geometry, skinMap) {\n\t\tconst materialWireframe = new THREE.MeshLambertMaterial( { color: 0xffaa00, wireframe: true, morphTargets: true, morphNormals: true } );\n\t\tconst materialTexture = new THREE.MeshLambertMaterial( { color: 0xffffff, wireframe: false, map: skinMap, morphTargets: true, morphNormals: true } );\n\n\t\tconst mesh = new THREE.Mesh(geometry, materialTexture);\n\t\tmesh.rotation.y = - Math.PI / 2;\n\n\t\tmesh.castShadow = true;\n\t\tmesh.receiveShadow = true;\n\n\t\tmesh.materialTexture = materialTexture;\n\t\tmesh.materialWireframe = materialWireframe;\n\n\t\tthis._playingAnimation = false;\n\t\tthis._mixer = new THREE.AnimationMixer(mesh);\n\t\tthis._mesh = mesh;\n\n\t\tif(this._options.animation){\n\t\t\tthis.playAnimation(this._options.animation);\n\t\t}\n\n\t\treturn mesh;\n\t}\n\n\tplayAnimation(name, playOnce) {\n\t\tif(this._playingAnimation){\n\t\t\treturn;\n\t\t}\n\n\t\tconst options = this._options;\n\t\tconst mixer = this._mixer = new THREE.AnimationMixer(mesh);\n\t\tconst mesh = this._mesh;\n\t\tconst timeScale = options.animTimeScale;\n\n\t\t//speed animation up by <timeScale>\n\t\t//duration is now <duration>/<timeScale>\n\t\tmixer.timeScale = timeScale;\n\n\t\tif(!mesh){\n\t\t\treturn;\n\t\t}\n\n\t\tconst clip = THREE.AnimationClip.findByName(mesh.geometry.animations, name);\n\n\t\tif(!clip){\n\t\t\treturn;\n\t\t}\n\n\t\tconst action = new THREE.AnimationAction(clip, mixer.time).setLocalRoot(mesh);\n\n\t\tmixer.addAction(action);\n\t\tthis._playingAnimation = true;\n\n\t\tif(!playOnce){\n\t\t\treturn;\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\tmixer.removeAction(action);\n\t\t\tthis._playingAnimation = false;\n\t\t}, (clip.duration/timeScale)*1000);\n\t}\n\n\tupdate() {\n\t\tconst delta = this._clock.getDelta();\n\t\tif(this._mixer) this._mixer.update(delta);\n\t}\n}\n","export default {\n  ratamahatta: {\n\t  path: '/ratamahatta/',\n\t  body: \"ratamahatta.md2\",\n\t  skins: [ \"ratamahatta.png\", \"ctf_b.png\", \"ctf_r.png\", \"dead.png\", \"gearwhore.png\" ],\n\t  weapons:  [\n\t  \t[ \"weapon.md2\", \"weapon.png\" ],\n\t\t\t[ \"w_bfg.md2\", \"w_bfg.png\" ],\n\t\t\t[ \"w_blaster.md2\", \"w_blaster.png\" ],\n\t\t\t[ \"w_chaingun.md2\", \"w_chaingun.png\" ],\n\t\t\t[ \"w_glauncher.md2\", \"w_glauncher.png\" ],\n\t\t\t[ \"w_hyperblaster.md2\", \"w_hyperblaster.png\" ],\n\t\t\t[ \"w_machinegun.md2\", \"w_machinegun.png\" ],\n\t\t\t[ \"w_railgun.md2\", \"w_railgun.png\" ],\n\t\t\t[ \"w_rlauncher.md2\", \"w_rlauncher.png\" ],\n\t\t\t[ \"w_shotgun.md2\", \"w_shotgun.png\" ],\n\t\t\t[ \"w_sshotgun.md2\", \"w_sshotgun.png\" ]\n\t\t]\n\t},\n\togro: {\n\t  path: \"/ogro/\",\n\t\tbody: \"ogro.md2\",\n\t\tskins: [\n\t\t\t\"grok.jpg\", \"ogrobase.png\", \"arboshak.png\", \"ctf_r.png\", \"ctf_b.png\", \"darkam.png\", \"freedom.png\",\n\t\t \t\"gib.png\", \"gordogh.png\", \"igdosh.png\", \"khorne.png\", \"nabogro.png\",\n\t\t \t\"sharokh.png\"\n\t\t],\n\t\tweapons:  [ [ \"weapon.md2\", \"weapon.jpg\" ] ]\n\t}\n};\n","import CONFIG from '../../config';\nimport CHARACTERS_CONFIG from './charactersConfig';\n\nexport default class Character {\n  constructor(userOptions = {}) {\n    const options = this._options = Object.assign({\n      character: 'ratamahatta',\n      skin: 0,\n      animation: 'stand'\n    }, userOptions);\n\n    const charConfig = CHARACTERS_CONFIG[options.character];\n    const character = this._createCharacter(charConfig);\n\n    this._eventListeners = {};\n    this._clock = new THREE.Clock();\n\n    this._character = character;\n  }\n\n  on(event, callback) {\n    if(typeof this._eventListeners[event] !== 'array'){\n      this._eventListeners[event] = [];\n    }\n    this._eventListeners[event].push(callback);\n  }\n\n  _triggerEvent(event) {\n    const listeners = this._eventListeners[event];\n\n    if(typeof listeners === 'object'){\n      listeners.forEach(callback => {\n        callback(this.getRaw());\n      });\n    }\n  }\n\n  _createCharacter(charConfig) {\n    const options = this._options;\n    const character = new THREE.MD2Character();\n\n    character.scale = .5;\n\n    character.onLoadComplete = () => {\n      this.setSkin(options.skin);\n      this.setAnimation(options.animation);\n\n      if(typeof options.weapon === 'number'){\n        this.setWeapon(options.weapon);\n      }\n\n      if (typeof options.x === 'number') {\n        character.root.position.x = options.x;\n      }\n\n      if (typeof options.y === 'number') {\n        character.root.position.y = options.y;\n      }\n\n      if (typeof options.z === 'number') {\n        character.root.position.z = options.z;\n      }\n\n      this._triggerEvent('create');\n    };\n\n    charConfig.baseUrl = CONFIG.paths.models+charConfig.path;\n    character.loadParts(charConfig);\n\n    return character;\n  }\n\n  setSkin(idx) {\n    //character.skinsBody\n    this._character.setSkin(idx);\n  }\n\n  setWeapon(idx) {\n    //character.weapons\n    this._character.setWeapon(idx);\n  }\n\n  setAnimation(name) {\n    //character.meshBody.geometry.animations\n    this._character.setAnimation(name);\n  }\n\n  getRaw() {\n    return this._character;\n  }\n\n  update() {\n    const delta = this._clock.getDelta();\n    this._character.update(delta);\n  }\n}\n","export default {\n  init(element, camera, controls){\n    this._controls = new THREE.PointerLockControls(camera);\n    this._element = element;\n    this._bindEvents();\n  },\n\n  getControls() {\n    return this._controls;\n  },\n\n  getEnabled(){\n    return this._controls.enabled;\n  },\n\n  _bindEvents(){\n    document.body.addEventListener('click', this._requestLock.bind(this));\n    document.addEventListener('pointerlockchange', this._onLockChange.bind(this), false);\n    document.addEventListener('mozpointerlockchange', this._onLockChange.bind(this), false);\n    document.addEventListener('webkitpointerlockchange', this._onLockChange.bind(this), false);\n  },\n\n  _requestLock(){\n    const element = this._element;\n    element.requestPointerLock = element.requestPointerLock || element.mozRequestPointerLock || element.webkitRequestPointerLock;\n    element.requestPointerLock();\n  },\n\n  _onLockChange(){\n    const element = this._element;\n    if (document.pointerLockElement === element ||\n      document.mozPointerLockElement === element ||\n      document.webkitPointerLockElement === element) {\n      console.log('Pointer locked');\n      this._controls.enabled = true;\n    } else {\n      console.log('Pointer lock removed');\n      this._controls.enabled = false;\n    }\n  }\n};\n","export default {\n  init(controls, collisionObjects, options) {\n    this._controls = controls;\n    this._options = options;\n\n    this._collisionObjects = collisionObjects;\n    this._raycaster = new THREE.Raycaster(new THREE.Vector3(), new THREE.Vector3(0, -1, 0), 0, 10);\n\n    this._movement = {\n      forward: false,\n      backward: false,\n      right: false,\n      left: false,\n      canJump: false\n    };\n\n    this._velocity = new THREE.Vector3();\n    this._prevTime = performance.now();\n\n    this._bindKeyEvents();\n  },\n\n  getCurrMovement() {\n    const movement = this._movement;\n\n    for (const key in movement) {\n      if(!movement[key]){\n        continue;\n      }\n\n      if (['forward', 'backward', 'right', 'left'].indexOf(key) !== -1 && movement.canJump !== false) {\n        //walking and not jumping\n        return 'walking';\n      } else if(key === 'canJump'){\n        //jumping\n        return 'jumping'\n      } else {\n        //not walking, not jumping = idle\n        return 'idle';\n      }\n    }\n  },\n\n  checkMovement() {\n    const controls = this._controls;\n    const velocity = this._velocity;\n    const movement = this._movement;\n    const options = this._options;\n\n    const time = performance.now();\n    const delta = (time - this._prevTime) / 1000;\n\n      //update velocity\n    velocity.x -= velocity.x * 10.0 * delta;\n    velocity.z -= velocity.z * 10.0 * delta;\n    velocity.y -= 9.8 * 100.0 * delta; // 100.0 = mass\n\n    //check directional movement\n    if(movement.forward) velocity.z -= options.movementSpeed * delta;\n    if(movement.backward) velocity.z += options.movementSpeed * delta;\n    if(movement.left) velocity.x -= options.movementSpeed * delta;\n    if(movement.right) velocity.x += options.movementSpeed * delta;\n\n    //objects collision detection\n    const isOnObject = this._checkObjectsCollision();\n    if (isOnObject) {\n      velocity.y = Math.max(0, velocity.y);\n      movement.canJump = true;\n    }\n\n    //update controls\n    const controlsObject = controls.getObject();\n    controlsObject.translateZ(velocity.z * delta);\n    controlsObject.translateY(velocity.y * delta);\n    controlsObject.translateX(velocity.x * delta);\n\n    //detect floor\n    if (controls.getObject().position.y < 20) {\n      velocity.y = 0;\n      controlsObject.position.y = 20;\n      movement.canJump = true;\n    }\n\n    this._prevTime = time;\n  },\n\n  _checkObjectsCollision() {\n    const raycaster = this._raycaster;\n    const objects = this._collisionObjects;\n    const controls = this._controls;\n\n    raycaster.ray.origin.copy(controls.getObject().position);\n    raycaster.ray.origin.y -= 10;\n\n    const intersections = raycaster.intersectObjects(objects);\n    const isOnObject = intersections.length > 0;\n\n    return isOnObject;\n  },\n\n  _bindKeyEvents() {\n    document.addEventListener('keydown', ({keyCode}) => this._checkKeys(keyCode, true), false);\n    document.addEventListener('keyup', ({keyCode}) => this._checkKeys(keyCode, false), false);\n  },\n\n  _checkKeys(keyCode, setToVal) {\n    const options = this._options;\n    switch(keyCode){\n      case 87: //w\n        this._movement.forward = setToVal;\n        break;\n      case 83: //s\n        this._movement.backward = setToVal;\n        break;\n      case 68: // d\n        this._movement.right = setToVal;\n        break;\n      case 65: // a\n        this._movement.left = setToVal;\n        break;\n      case 32: // space\n        if(setToVal === true){ //keydown\n          if(this._movement.canJump || options.enableSuperJump){\n            this._velocity.y += this._options.jumpHeight;\n          }\n          this._movement.canJump = false;\n        }\n        break;\n    }\n  }\n};\n","export default {\n\trand(min, max) {\n\t\treturn Math.floor((Math.random() * max) + min);\n\t}\n};\n","import CONFIG from '../config';\nimport utils from './utils';\n\nexport default {\n  generateRenderer(clearHex) {\n    const renderer = new THREE.WebGLRenderer();\n    renderer.setClearColor(clearHex);\n    renderer.setPixelRatio(window.devicePixelRatio || 1);\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    return renderer;\n  },\n\n  generateFloor() {\n    const geometry = new THREE.PlaneGeometry(2000, 2000, 100, 100);\n\n    geometry.rotateX(-Math.PI/2);\n\n    for (let i = 0, l = geometry.vertices.length; i < l; i++) {\n      const vertex = geometry.vertices[i];\n      vertex.x += Math.random() * 20;\n      vertex.z += Math.random() * 20;\n      vertex.y += Math.random();\n    }\n\n    for (let i = 0, l = geometry.faces.length; i < l; i++) {\n      const face = geometry.faces[i];\n      const colors = [];\n\n      for(let j = 0; j < 3; j++){\n        const color = new THREE.Color(`rgb(${utils.rand(100,180)},${utils.rand(100,180)},${utils.rand(100,180)})`);\n        colors.push(color);\n      }\n\n      for(let j = 0; j < 3; j++){\n        face.vertexColors[j] = colors[j];\n      }\n    }\n\n    const material = new THREE.MeshBasicMaterial({ vertexColors: THREE.VertexColors });\n    return new THREE.Mesh(geometry, material);\n  },\n\n  generateBoxes(amount, texturePath, callback) {\n    const textureLoader = new THREE.TextureLoader();\n\n    const doGenerate = (crateTexture) => {\n      let mesh;\n      const boxes = [];\n\n      for(let i = 0; i < amount; i++){\n          mesh = this._generateBox({\n            width: 20,\n            height: 20,\n            depth: 20,\n            rgb: [55,81,159],\n            texture: crateTexture\n          });\n\n          mesh.position.x = Math.floor( Math.random() * 20 - 10 ) * 20;\n          mesh.position.y = Math.floor( Math.random() * 20 ) * 20 + 10;\n          mesh.position.z = Math.floor( Math.random() * 20 - 10 ) * 20;\n\n          mesh.rotation.y = -100;\n          boxes.push(mesh);\n        }\n\n        callback(boxes);\n      };\n\n      textureLoader.load(CONFIG.paths.img+texturePath, crateTexture => {\n      doGenerate(crateTexture);\n    });\n  },\n\n  _generateBox(options) {\n    const width = options.width;\n    const height = options.height;\n    const depth = options.depth;\n    const rgb = options.rgb;\n    const box = new THREE.BoxGeometry(width, height, depth);\n    let material;\n\n    if(options.texture){\n      material = new THREE.MeshPhongMaterial({\n        map: options.texture\n      });\n    } else {\n      material = new THREE.MeshBasicMaterial({\n        vertexColors: THREE.VertexColors\n      });\n\n      let face;\n      let color;\n\n      for (let i = 0; i < box.faces.length; i++) {\n        face = box.faces[i];\n        color = new THREE.Color(`rgb(${rgb[0]+(i*4)},${rgb[1]+(i*4)},${rgb[0]+(i*4)})`);\n        face.color = color;\n      }\n    }\n\n    return new THREE.Mesh(box, material);\n  }\n};\n","import CONFIG from './config';\nimport utils from './libs/utils';\nimport worldHelper from './libs/worldHelper';\nimport lockControlsHelper from './libs/lockControlsHelper';\nimport  movementHelper from './libs/movementHelper';\nimport * as components from './components';\n\nlet scene = null;\nlet camera = null;\nlet renderer = null;\nlet stats = null;\n\nconst componentsToUpdate = Object.values(components).filter(({update}) => (typeof update === 'function'));\nconst containerNode = document.body;\n\ninitStats();\ninit();\nupdate();\n\nfunction init() {\n  scene = new THREE.Scene();\n  camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 1000);\n\n  //light\n  const light = new THREE.HemisphereLight(0xffffff, 0xaaaaaa, 0.6);\n  scene.add(light);\n\n  //floor\n  const floorMesh = worldHelper.generateFloor();\n  scene.add(floorMesh);\n\n  //renderer\n  renderer = worldHelper.generateRenderer(0x0f445c);\n  containerNode.appendChild(renderer.domElement);\n\n  lockControlsHelper.init(containerNode, camera);\n  const controls = lockControlsHelper.getControls();\n  scene.add(controls.getObject());\n\n  //boxes\n  components.boxes.init(scene, (boxes) => {\n    movementHelper.init(controls, boxes, {\n      movementSpeed: CONFIG.movement.speed,\n      jumpHeight: CONFIG.movement.jumpHeight,\n      enableSuperJump: CONFIG.movement.enableSuperJump\n    });\n\n    //characters\n    components.characters.init(scene, boxes);\n\n    //weapon\n    components.playerWeapon.init(camera);\n  });\n}\n\nfunction update(){\n  stats.begin();\n\n  if(lockControlsHelper.getEnabled()){\n    movementHelper.checkMovement();\n\n    for (const component of componentsToUpdate) {\n      component.update();\n    }\n  }\n\n  renderer.render(scene, camera);\n\n  stats.end();\n  requestAnimationFrame(update);\n}\n\nfunction initStats(){\n  stats = new Stats();\n  stats.setMode(0);\n\n  stats.domElement.style.position = 'absolute';\n  stats.domElement.style.left = '0px';\n  stats.domElement.style.top = '0px';\n  containerNode.appendChild(stats.domElement);\n}\n"]}